(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1258:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__),C_Users_Zilu_Desktop_crm_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1da1");__webpack_exports__["a"]={name:"Login",data:function(){return{isLoading:!1,loginForm:{username:"",password:"",checked:!1},loginRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function created(){eval(localStorage.getItem("checked"))&&(this.loginForm.checked=eval(localStorage.getItem("checked")),this.loginForm.username=localStorage.getItem("username"),this.loginForm.password=localStorage.getItem("password"))},methods:{submitForm:function(e){var t=this;return Object(C_Users_Zilu_Desktop_crm_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.next=3,t.$http.post("/api/user/login",{username:e.username,password:e.password});case 3:r=a.sent,1==r.data.code?(t.$message({message:r.data.message,type:"success"}),sessionStorage.setItem("username",e.username),e.checked?(localStorage.setItem("checked",e.checked),localStorage.setItem("username",e.username),localStorage.setItem("password",e.password)):(localStorage.removeItem("checked"),localStorage.removeItem("username"),localStorage.removeItem("password")),t.isLoading=!1,t.$router.push("/home")):t.$message({message:r.data.message,type:"error"});case 5:case"end":return a.stop()}}),a)})))()}}}},"1e27":function(e,t,a){"use strict";a("4706")},"206d":function(e,t,a){"use strict";a("4413")},4413:function(e,t,a){},4706:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},n=[],o=a("2877"),i={},l=Object(o["a"])(i,s,n,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-header",[a("el-dropdown",{on:{command:e.ClickAccount}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" 你好"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"b"}},[e._v("设置")]),a("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1)],1),a("el-container",[a("Menu"),a("el-main",[a("router-view")],1)],1)],1)},m=[],p=(a("96cf"),a("1da1")),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"200px"}},[a("el-row",{staticClass:"tac"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"}},e._l(e.initNav(e.$router.options.routes),(function(t){return a("el-submenu",{key:t.meta.id,attrs:{index:t.meta.id}},[a("template",{slot:"title"},[a("i",{class:t.meta.iconclass}),a("span",[e._v(e._s(t.meta.name))])]),e._l(e.initNav(t.children),(function(t){return a("el-menu-item",{key:t.meta.id,attrs:{index:t.meta.id,disabled:t.meta.id>4},on:{click:function(a){return e.NavSelect(t.path)}}},[a("i",{class:t.meta.iconclass}),a("span",[e._v(e._s(t.meta.name))])])}))],2)})),1)],1)],1)],1)},h=[],f=(a("4de4"),{name:"Menu",methods:{NavSelect:function(e){this.$router.push(e)},initNav:function(e){return e.filter((function(e){return e.meta}))}},created:function(){}}),_=f,b=(a("69e4"),Object(o["a"])(_,g,h,!1,null,"cb9ad550",null)),v=b.exports,y={name:"Home",components:{Menu:v},methods:{ClickAccount:function(e){var t=this;"logout"==e&&this.$confirm("确定退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/user/logout");case 2:a=e.sent,1==a.data.code?(t.$message({type:"success",message:a.data.message}),sessionStorage.removeItem("username"),t.$router.push("/login")):t.$message({type:"error",message:a.data.message});case 4:case"end":return e.stop()}}),e)}))))}}},w=y,x=(a("1e27"),Object(o["a"])(w,d,m,!1,null,"8d089b5a",null)),k=x.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrapper"},[a("div",{staticClass:"login"},[a("h1",[e._v("登录")]),a("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名",type:"text",autocomplete:"off"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-form-item",{attrs:{prop:"check"}},[a("el-checkbox",{attrs:{label:"记住密码"},model:{value:e.loginForm.checked,callback:function(t){e.$set(e.loginForm,"checked",t)},expression:"loginForm.checked"}})],1),a("el-form-item",{staticStyle:{display:"flex","justify-content":"space-around"}},[a("el-button",{staticStyle:{"margin-top":"100px"},attrs:{loading:e.isLoading,type:"primary"},on:{click:function(t){return e.submitForm(e.loginForm)}}},[e._v("登录")])],1)],1)],1)])},F=[],A=a("1258"),$=A["a"],S=(a("206d"),Object(o["a"])($,E,F,!1,null,null,null)),O=S.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Statics ")])},j=[],M={name:"Statics"},L=M,C=Object(o["a"])(L,R,j,!1,null,null,null),D=C.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"user_header"},[e._m(0),a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.userSearch}},[e._v("查询")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.userAdd}},[e._v("新增")])],1),a("div",{staticClass:"user_main"},[[a("el-table",{ref:"userTable",staticStyle:{width:"100%"},attrs:{data:e.userList,"tooltip-effect":"dark"},on:{"selection-change":e.userSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"#",width:"50",prop:"id"}}),a("el-table-column",{attrs:{label:"姓名",width:"120",prop:"name"}}),a("el-table-column",{attrs:{label:"性别",width:"120",prop:"sex"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sex?"女":"男")+" ")]}}])}),a("el-table-column",{attrs:{label:"年龄",width:"120",prop:"age"}}),a("el-table-column",{attrs:{label:"生日",width:"120",prop:"birthday"}}),a("el-table-column",{attrs:{label:"地址",prop:"address"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(a){return e.userEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.userDel(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"danger",size:"small"},on:{click:function(t){return e.userDelAll()}}},[e._v("批量删除")]),a("el-pagination",{staticStyle:{"margin-top":"20px",float:"right"},attrs:{layout:"prev, pager, next",total:e.total,"page-size":e.pagesize,"current-page":e.pageno},on:{"current-change":e.pageChange}})]],2),e.ishow?a("UserAddEdit",{attrs:{value:e.value,state:e.state},on:{close:e.close}}):e._e()],1)},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("strong",[e._v("首页")]),e._v("/应用管理/用户管理")])}],I=(a("4160"),a("b0c0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.state,width:"60%",visible:!0,"close-on-click-modal":!1},on:{close:e.close}},[a("el-form",{ref:"AddEditForm",staticClass:"AddEditForm",attrs:{model:e.AddEditForm,rules:e.AddEditRules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名",type:"text",autocomplete:"off"},model:{value:e.AddEditForm.name,callback:function(t){e.$set(e.AddEditForm,"name",t)},expression:"AddEditForm.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio",{attrs:{label:0},model:{value:e.AddEditForm.sex,callback:function(t){e.$set(e.AddEditForm,"sex",t)},expression:"AddEditForm.sex"}},[e._v("男")]),a("el-radio",{attrs:{label:1},model:{value:e.AddEditForm.sex,callback:function(t){e.$set(e.AddEditForm,"sex",t)},expression:"AddEditForm.sex"}},[e._v("女")])],1),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input-number",{attrs:{min:1,max:100},model:{value:e.AddEditForm.age,callback:function(t){e.$set(e.AddEditForm,"age",t)},expression:"AddEditForm.age"}})],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.AddEditForm.birthday,callback:function(t){e.$set(e.AddEditForm,"birthday",t)},expression:"AddEditForm.birthday"}})],1)]),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.AddEditForm.address,callback:function(t){e.$set(e.AddEditForm,"address",t)},expression:"AddEditForm.address"}})],1)],1),a("el-button",{staticStyle:{"margin-top":"100px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm(e.AddEditForm)}}},[e._v("确 定 ")]),a("el-button",{on:{click:e.close}},[e._v("取 消")])],1)}),P=[],z=(a("4d63"),a("ac1f"),a("25f0"),a("5319"),{props:["state","value"],data:function(){return{radio:"",status:this.status,AddEditForm:{name:"",sex:"",age:"",birthday:"",address:"",id:""},AddEditRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){"编辑"==this.state&&(this.AddEditForm.name=this.value.name,this.AddEditForm.sex=this.value.sex,this.AddEditForm.age=this.value.age,this.AddEditForm.birthday=this.value.birthday,this.AddEditForm.address=this.value.address,this.AddEditForm.id=this.value.id)},methods:{submitForm:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},t.AddEditForm.birthday=new Date(e.birthday).Format("yyyy-MM-dd"),"新增"!=t.state){a.next=9;break}return a.next=5,t.$http.post("/api/user/add",{name:t.AddEditForm.name,sex:t.AddEditForm.sex,age:t.AddEditForm.age,birthday:t.AddEditForm.birthday,address:t.AddEditForm.address});case 5:r=a.sent,1==r.data.code?(t.$message({type:"success",message:r.data.message}),t.close(),t.$parent.initUserList()):t.$message({type:"error",message:r.data.message}),a.next=18;break;case 9:if("编辑"!=t.state){a.next=17;break}return a.next=12,t.$http.post("/api/user/update",{name:t.AddEditForm.name,sex:t.AddEditForm.sex,age:t.AddEditForm.age,birthday:t.AddEditForm.birthday,address:t.AddEditForm.address,id:t.AddEditForm.id});case 12:s=a.sent,console.log(s),1==s.data.code?(t.$message({type:"success",message:s.data.message}),t.close(),t.$parent.initUserList()):t.$message({type:"error",message:s.data.message}),a.next=18;break;case 17:t.$message.error("未知错误，请检查你的网络");case 18:case"end":return a.stop()}}),a)})))()},close:function(){this.$emit("close")}}}),B=z,N=Object(o["a"])(B,I,P,!1,null,null,null),q=N.exports,J={name:"User",components:{UserAddEdit:q},data:function(){return{state:"",ishow:!1,userList:[],userSelectList:[],name:"",pageno:1,pagesize:10,total:0,value:""}},mounted:function(){this.initUserList()},methods:{initUserList:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/user/list",{name:e.name,pageno:e.pageno,pagesize:e.pagesize});case 2:a=t.sent,e.userList=a.data.list,e.total=a.data.total;case 5:case"end":return t.stop()}}),t)})))()},userSelect:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.userSelectList=t},userSearch:function(){this.initUserList()},userAdd:function(){this.state="新增",this.ishow=!0},userEdit:function(e){this.value=e,console.log(e),this.state="编辑",this.ishow=!0},userDel:function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("/api/user/del",{params:{id:e}});case 2:r=a.sent,1==r.data.code?(t.$message({type:"success",message:r.data.message}),t.initUserList()):t.$message({type:"error",message:r.data.message});case 4:case"end":return a.stop()}}),a)}))))},userDelAll:function(){var e=this;this.$confirm("确定全部删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/user/batchdel",{ids:e.userSelectList});case 2:a=t.sent,1==a.data.code?(e.$message({type:"success",message:a.data.message}),e.initUserList()):e.$message({type:"error",message:a.data.message});case 4:case"end":return t.stop()}}),t)}))))},pageChange:function(e){this.pageno=e,this.initUserList()},close:function(){this.ishow=!this.ishow}}},W=J,K=(a("68a4"),Object(o["a"])(W,T,U,!1,null,"e3c47af8",null)),G=K.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Roles ")])},Z=[],Y={name:"Roles"},Q=Y,V=Object(o["a"])(Q,H,Z,!1,null,null,null),X=V.exports;r["default"].use(u["a"]);var ee=[{path:"",redirect:"/login"},{path:"/login",component:O},{path:"/home",component:k,meta:{name:"应用管理",id:"1",iconclass:"el-icon-user-solid"},redirect:"/home/user",children:[{path:"/home/statics",component:D},{path:"/home/user",component:G,meta:{name:"用户管理",id:"2"}},{path:"/home/roles",component:X,meta:{name:"角色管理",id:"3"}}]},{path:"/log",meta:{name:"日志管理",id:"4",iconclass:"el-icon-menu"},children:[{path:"/log/syslog",meta:{name:"系统日志",id:"5"}},{path:"/log/oplog",meta:{name:"管理员日志",id:"6"}},{path:"/log/userlog",meta:{name:"用户行为统计",id:"7"}}]}],te=new u["a"]({mode:"history",base:"/",routes:ee}),ae=te,re=a("2f62");r["default"].use(re["a"]);var se=new re["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ne=a("5c96"),oe=a.n(ne),ie=(a("0fae"),a("96eb")),le=a.n(ie),ce=(a("c975"),a("fb6a"),a("a434"),a("1276"),{username:"admin",password:"123"});le.a.mock("/api/user/login","post",(function(e){var t=JSON.parse(e.body),a=t.username,r=t.password;return a===ce.username&&r===ce.password?le.a.mock({code:1,message:"登录成功"}):le.a.mock({code:-1,message:"用户名或者密码错误"})})),le.a.mock("/api/user/logout","get",(function(){return le.a.mock({code:1,message:"退出登录成功"})}));var ue=[];function de(){for(var e=0;e<56;e++)ue.push(le.a.mock({id:"@increment()",name:"@cname",sex:"@natural(0,1)",age:"@natural(0,100)",birthday:"@date()",address:"@county(true)"}))}de(),le.a.mock("/api/user/list","post",(function(e){var t=JSON.parse(e.body),a=t.name,r=t.pageno,s=t.pagesize,n=ue.filter((function(e){return e.name.indexOf(a)>-1})),o=(r-1)*s,i=o+s,l=n.slice(o,i);return{total:n.length,code:1,list:l}})),le.a.mock(/\/api\/user\/del/,"get",(function(e){var t=e.url.split("=")[1];return ue.forEach((function(e,a){e.id==t&&ue.splice(a,1)})),{code:1,message:"删除数据成功"}})),le.a.mock("/api/user/batchdel","post",(function(e){for(var t=JSON.parse(e.body).ids,a=0;a<t.length;a++)for(var r=ue.length-1;r>=0;r--)if(t[a]==ue[r].id){ue.splice(r,1);break}return{code:1,message:"批量删除成功"}})),le.a.mock("/api/user/add","post",(function(e){var t=JSON.parse(e.body);return t.id=ue.length+1,ue.unshift(t),{code:1,message:"添加用户成功"}})),le.a.mock("/api/user/update","post",(function(e){var t=JSON.parse(e.body);return ue.forEach((function(e,a){e.id===t.id&&(ue[a]=t)})),{code:1,message:"用户修改成功"}})),le.a.mock("/api/stat/line","get",(function(){return le.a.mock({code:1,days:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"count|7":["@natural(800,1500)"],"count1|7":["@natural(400,1000)"]})})),le.a.mock("/api/stat/pie","get",(function(){return le.a.mock({code:1,"title|5":["@ctitle(3,6)"],"list|5":[{value:"@natural(100,1600)"}]})})),le.a.setup({timeout:"50-300"});var me=a("bc3a"),pe=a.n(me);r["default"].config.productionTip=!1,r["default"].use(oe.a),r["default"].prototype.$http=pe.a,new r["default"]({router:ae,store:se,render:function(e){return e(c)}}).$mount("#app")},"68a4":function(e,t,a){"use strict";a("b090")},"69e4":function(e,t,a){"use strict";a("7244")},7244:function(e,t,a){},b090:function(e,t,a){}});
//# sourceMappingURL=app.e0829386.js.map